# TodoList Demo — 产品需求文档（PRD）

版本：1.0
日期：2025-12-04
作者：产品经理

**目标概述**
- **产品名称**: TodoList Demo
- **目标**: 快速交付一个轻量级的 Web 待办应用，覆盖个人日常任务管理的核心需求，便于后续迭代（协作、提醒、统计等）。
- **目标用户**: 以希望用简单工具管理个人任务的个人用户为主；可扩展至小团队（最多 5 人）作为轻量协作工具。

**成功指标（KPI）**
- 首月 DAU >= 100（若进行公开测试）
- 次日留存 >= 30%
- 关键路径（创建任务 -> 标记完成）成功率 >= 99%
- Bug 回归率 < 5%

**产品范围 — MVP（必须交付）**
- 创建任务：支持标题（必填）、描述、到期日、优先级（低/中/高）、标签。
- 任务操作：编辑、删除、标记完成/取消完成。
- 列表视图：按时间、优先级排序，支持筛选（全部/未完成/已完成）与搜索关键字。
- 简单用户模式：支持匿名本地使用（数据存储在服务器或本地，根据实现选型），可选的邮箱注册/登录（迭代计划）。
- 响应式基本支持：可在手机与桌面浏览器上使用。

**非 MVP（可选/迭代）**
- 推送/邮件提醒、重复任务、子任务、任务共享与协作权限、日历视图、统计仪表板、离线优先与冲突解决。

**用户故事（示例）**
- 作为一名用户，我可以创建新任务以记录待办事项；
- 作为一名用户，我可以将任务标记为完成以便追踪进度；
- 作为一名用户，我可以搜索关键字来快速找到任务；
- 作为一名用户，我可以编辑已有任务以修改详情；
- 作为一名用户，我可以按到期日或优先级排序任务以安排工作次序。

**验收标准（Acceptance Criteria）**
- 创建任务：在任务表单填写标题并提交后，任务出现在列表，包含填写的属性；
- 标记完成：勾选任务后任务变为完成状态并在“已完成”筛选可见；
- 编辑任务：修改字段并保存后，列表显示更新后的数据；
- 删除任务：删除后不再显示于任何列表；
- 搜索/筛选：输入关键字或选择筛选器能即时返回符合条件的任务；
- 响应性：主要视图在移动与桌面宽度下可正常使用且不遮挡关键操作。

**功能优先级（MoSCoW）**
- 必须有（MUST）：创建/编辑/删除、完成标记、基本筛选与搜索、列表排序、响应式布局。
- 应该有（SHOULD）：标签、优先级、到期日支持、基本表单校验。
- 可以有（COULD）：账号注册/登录（邮箱）、导出/导入 CSV。
- 不会有（WON'T）：复杂协作、企业级权限（首发不考虑）。

**技术概览（建议）**
- 前端：React + TypeScript + Vite（或 Vue + Vite），样式选用 Tailwind CSS 或 MUI。
- 后端：Node.js + Express（快速原型）或 Fastify；可选使用 NestJS 以提升可维护性。
- 数据库：Postgres（推荐）或 SQLite（快速原型）或 MongoDB（若偏文档）。
- 认证：初期可无认证（匿名模式）；之后支持 JWT + refresh token 或 OAuth2（Google）。
- 部署：前端 Vercel/Netlify，后端使用 Render/Heroku/Azure（或 Docker 部署）。
- CI/CD：GitHub Actions：lint -> 测试 -> 构建 -> 部署。

**数据模型（简化）**
- Task
  - `id` (UUID)
  - `title` (string, required)
  - `description` (string, optional)
  - `created_at` (datetime)
  - `updated_at` (datetime)
  - `due_date` (datetime, optional)
  - `completed` (boolean)
  - `priority` (enum: low|medium|high)
  - `tags` (array<string>)
  - `owner_id` (nullable string) — 关联用户（可选）

- User (可选，迭代)
  - `id`, `email`, `password_hash`, `created_at`

**API 设计（REST 简要）**
- `GET /api/tasks` — 列表（支持 query: filter, q, sort, page, per_page）
- `POST /api/tasks` — 创建（请求体包含 title, description, due_date, priority, tags）
- `GET /api/tasks/:id` — 获取单个任务
- `PATCH /api/tasks/:id` — 更新
- `DELETE /api/tasks/:id` — 删除
- `POST /api/auth/register`、`POST /api/auth/login` — 可选认证接口

所有 API 返回统一格式：
- 成功：HTTP 200/201 + { success: true, data: ... }
- 错误：对应状态码 + { success: false, error: { code, message } }

**UI/交互要点（实现提示）**
- 列表项显示简洁：标题、到期日、优先级标签与完成复选框；点击标题打开编辑面板/模态。
- 轻量动画：完成时添加过渡，使 UX 更自然。
- 表单校验：标题必填，优先级默认中等。
- 操作撤销：删除后短时间内可撤销（toast + 撤销按钮）。

**里程碑与估时（单人开发，工作日估计）**
- Day 1-2：PRD 完成，设计低保真原型（完成）
- Day 3-5：搭建后端基础（CRUD API + DB schema + 简单测试）
- Day 6-9：前端页面与联调（列表、创建、编辑、筛选）
- Day 10：编写基础测试、配置 CI、部署到测试环境
- Day 11-14：修复问题、UX 优化、准备 Beta 发布

**风险与缓解**
- 同步/离线复杂度高：首发不支持离线，后续规划离线优先策略与冲突解决。
- 认证与数据安全需求增加：初期默认匿名/可选注册，生产环境需增加加密与审计。
- 需求膨胀：严格控制 MVP 范围，任何新需求进入 backlog 并评估优先级。

**运营与收集反馈**
- 内测：邀请小范围用户（10-50 人）进行 Beta 测试，收集关键使用路径数据与主观反馈。
- 指标监控：配置 Sentry（错误）与简单事件埋点（创建/完成/编辑/删除）以评估关键路径成功率与留存。

**后续建议的迭代优先级（示例）**
1. 简单账号与数据同步（跨设备）
2. 提醒与重复任务（高频需求）
3. 共享/协作能力（对小团队有价值）
4. 离线支持与冲突解决

---

附件/文件：
- 推荐将此文件保存为 `PRD.md` 到项目根目录。 

下一步：如果你确认此 PRD，我可以立刻在 `todoList_demo` 中 scaffold 前端（React+TS+Vite）或后端（Node+Express）项目。请回复选择：`前端` / `后端` / `都要` / `先设计原型`。